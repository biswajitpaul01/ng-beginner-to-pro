<div class="md:container md:mx-auto">
  <form #f="ngForm" (ngSubmit)="submitForm(f)" class="form bg-white p-6 my-10 relative">
    <h3 class="text-2xl text-gray-900 font-semibold">Let us call you!</h3>
    <p class="text-gray-600"> To help you choose your property</p>
    <pre>
      {{ f.value | json }}
    </pre>
    <div class="flex space-x-5 mt-3">
      <div class="w-1/3">
        <input type="text" ngModel #name="ngModel" name="name" id="name" placeholder="Your Name" class="border p-2 w-full" required>
        <app-alert [type]="'danger'" *ngIf="(name.control.touched || f.submitted) && name.control.invalid">
          <ul>
            <li *ngIf="name.errors?.required">Name field is required</li>
          </ul>
        </app-alert>
      </div>
      <div class="w-1/3">
        <select ngModel #age="ngModel" name="age" id="age" class="p-2 w-full" required>
          <option value="">Select age</option>
          <option value="0-25">0-25</option>
          <option value="26-50">26-50</option>
          <option value="51-75">51-75</option>
          <option value="76-100+">76-100+</option>
        </select>
        <app-alert [type]="'danger'" *ngIf="(age.control.touched || f.submitted) && age.control.invalid">
          <ul>
            <li *ngIf="age.errors?.required">age is required</li>
          </ul>
        </app-alert>
      </div>
      <div class="w-1/3">
        <input type="email" ngModel #email="ngModel" name="email" id="email" placeholder="Your Email" class="border p-2 w-full" pattern="^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$" required>
        <app-alert [type]="'danger'" *ngIf="(email.control.touched || f.submitted) && email.control.invalid">
          <ul>
            <li *ngIf="email.errors?.required">Email field is required</li>
            <li *ngIf="email.errors?.pattern">Please enter valid email format</li>
          </ul>
        </app-alert>
      </div>
    </div>
    <div class="flex space-x-5 mt-3" ngModelGroup="address">
      <div class="w-1/3">
        <input type="text" ngModel #street="ngModel" name="street" id="street" placeholder="Street Address" class="border p-2 w-full mt-3" required>
        <app-alert [type]="'danger'" *ngIf="(street.control.touched || f.submitted) && street.control.invalid">
          <ul>
            <li *ngIf="street.errors?.required">Street field is required</li>
          </ul>
        </app-alert>
      </div>
      <div class="w-1/3">
        <input type="text" ngModel #city="ngModel" name="city" id="city" placeholder="City" class="border p-2 w-full mt-3" required>
        <app-alert [type]="'danger'" *ngIf="(city.control.touched || f.submitted) && city.control.invalid">
          <ul>
            <li *ngIf="city.errors?.required">City field is required</li>
          </ul>
        </app-alert>
      </div>
      <div class="w-1/3">
        <input type="text" ngModel #zipcode="ngModel" name="zipcode" id="zipcode" placeholder="Zipcode" class="border p-2 w-full mt-3" required>
        <app-alert [type]="'danger'" *ngIf="(zipcode.control.touched || f.submitted) && zipcode.control.invalid">
          <ul>
            <li *ngIf="zipcode.errors?.required">Zipcode field is required</li>
          </ul>
        </app-alert>
      </div>
    </div>
    <div class="flex space-x-5 mt-3">
      <div class="w-1/2">
        <label for="" class="mr-3 block">Gender</label>
        <label class="inline-flex items-center mt-3 mr-2">
          <input type="radio" class="form-radio h-5 w-5 text-gray-600" ngModel #gender="ngModel" name="gender" value="male" required><span class="ml-2 text-gray-700">Male</span>
        </label>
        <label class="inline-flex items-center mt-3 mr-2">
          <input type="radio" class="form-radio h-5 w-5 text-gray-600" ngModel #gender="ngModel" name="gender" value="female" required><span class="ml-2 text-gray-700">Female</span>
        </label>
        <div class="block">
          <app-alert [type]="'danger'" *ngIf="(gender.control.touched || f.submitted) && gender.control.invalid">
            <ul>
              <li *ngIf="gender.errors?.required">Gender is required</li>
            </ul>
          </app-alert>
        </div>
      </div>
    </div>
    <div class="flex space-x-5 mt-3">
      <div class="w-full">
        <textarea ngModel name="notes" #notes="ngModel" id="notes" cols="10" rows="3" placeholder="Tell us about desired property" class="border p-2 mt-3 w-full" required></textarea>
        <app-alert [type]="'danger'" *ngIf="(notes.control.touched || f.submitted) && notes.control.invalid">
          <ul>
            <li *ngIf="notes.errors?.required">This field is required</li>
          </ul>
        </app-alert>
      </div>
    </div>
    <p class="font-bold text-sm mt-3">GDPR Agreement *</p>
    <div class="flex items-baseline space-x-2 mt-2">
      <input type="checkbox" ngModel #agreement="ngModel" name="agreement" id="agreement" class="inline-block" required>
      <p class="text-gray-600 text-sm w-full">I consent to having this website store my submitted information so they can respond to my inquiry.</p>
    </div>
    <app-alert [type]="'danger'" *ngIf="(agreement.control.touched || f.submitted) && agreement.control.invalid" class="w-full">
      <ul>
        <li *ngIf="agreement.errors?.required">You need to agree terms and conditions</li>
      </ul>
    </app-alert>
    <button type="submit" class="w-full mt-6 bg-blue-600 hover:bg-blue-500 text-white font-semibold p-3">Submit</button>
  </form>
</div>

